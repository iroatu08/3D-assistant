<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <link rel="icon" type="image/svg+xml" href="/vite.svg" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <link rel="stylesheet" href="style.css" />
    <title>Page Assistant</title>
  </head>
  <body>
    <div id="app">
      <div class="card-container">
        <div>
          <img style="width: 150px; height: 150px" src="/assistant.jpg" alt="" />
        </div>
        <div>
          <p class="card-content">Hello I'm an assistant</p>
        </div>
      </div>

      <div class="button-container">
        <button id="button1">Bruno</button>
        <button id="button2">Mark </button>
        <button id="button3">Collins</button>
        <button id="button4">James</button>
        <button id="button5">John </button>
      </div>

      <div class="overlay"></div>
    </div>

    <script>
      const cardCont = document.querySelector(".card-container");
      const cardContent = document.querySelector(".card-content");
      const overlay = document.querySelector(".overlay");

      const contentMap = {
        button1: "Hello this is Bruno here! ",
        button2: "Hello this is Mark here! ",
        button3: "Hello this is Collins here!",
        button4: "Hello this is James here! ",
        button5: "Hello this is John here! ",
      };


      document
        .getElementById("button1")
        .addEventListener("click", () => moveCard("button1"));
      document
        .getElementById("button2")
        .addEventListener("click", () => moveCard("button2"));
      document
        .getElementById("button3")
        .addEventListener("click", () => moveCard("button3"));
      document
        .getElementById("button4")
        .addEventListener("click", () => moveCard("button4"));
      document
        .getElementById("button5")
        .addEventListener("click", () => moveCard("button5"));

      function moveCard(btnID) {
        const exp = contentMap[btnID];
        const rect = document.getElementById(btnID).getBoundingClientRect();

        console.log(rect);

        const height = window.innerHeight;
        const width = window.innerWidth;

        cardCont.style.transition = "0.3s ease";
        cardCont.style.bottom = `${height - rect.bottom - 220}px`;
        cardCont.style.left = `${rect.left - 100}px`;

        cardCont.classList.add("active");

        if (!overlay.classList.contains("active"))
          overlay.classList.add("active");

        if (cardCont.classList.contains("active")) {
          cardContent.textContent = exp;
        }
      }

      overlay.addEventListener("click", () => {
        cardCont.style.bottom = "10px";
        cardCont.style.left = "10px";
        overlay.classList.remove("active");
        cardContent.textContent = "Hello I'm an assistant here to help you!";
      });
    </script>
  </body>
</html>
